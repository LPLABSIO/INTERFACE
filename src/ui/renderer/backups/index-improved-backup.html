<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bot Manager - Interface Am√©lior√©e</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header Am√©lior√© -->
        <header class="header">
            <div class="header-content">
                <h1 class="app-title">
                    <span class="logo">‚ö°</span>
                    Bot Manager
                </h1>

                <!-- Navigation Principale -->
                <nav class="nav-tabs">
                    <button class="nav-tab active" data-view="devices">
                        <span class="tab-icon">üì±</span>
                        <span>Appareils</span>
                    </button>
                    <button class="nav-tab" data-view="control">
                        <span class="tab-icon">üéØ</span>
                        <span>Centre de Contr√¥le</span>
                    </button>
                    <button class="nav-tab" data-view="queue">
                        <span class="tab-icon">üìã</span>
                        <span>File d'Attente</span>
                    </button>
                    <button class="nav-tab" data-view="reports">
                        <span class="tab-icon">üìä</span>
                        <span>Rapports</span>
                    </button>
                </nav>

                <div class="header-actions">
                    <button id="refresh-btn" class="btn btn-ghost" data-tooltip="Rafra√Æchir">
                        <span class="spinner" style="display: none;"></span>
                        <span class="btn-text">‚Üª</span>
                    </button>
                    <button id="settings-btn" class="btn btn-ghost" data-tooltip="Param√®tres">
                        ‚öôÔ∏è
                    </button>
                </div>
            </div>
        </header>

        <!-- Vue Appareils (Par d√©faut) -->
        <main id="view-devices" class="main-view active">
            <div class="view-layout">
                <!-- Sidebar - Liste des Appareils -->
                <aside class="sidebar-improved">
                    <div class="sidebar-header">
                        <h2>Appareils Connect√©s</h2>
                        <button id="scan-devices" class="btn btn-primary btn-sm">
                            Scanner
                        </button>
                    </div>

                    <div class="device-stats">
                        <div class="stat-item">
                            <span class="stat-value" id="devices-total">0</span>
                            <span class="stat-label">Total</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value success" id="devices-available">0</span>
                            <span class="stat-label">Disponibles</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value warning" id="devices-busy">0</span>
                            <span class="stat-label">Occup√©s</span>
                        </div>
                    </div>

                    <div id="device-list" class="device-list-improved">
                        <!-- Les appareils seront ajout√©s ici -->
                    </div>
                </aside>

                <!-- Panneau Principal -->
                <section class="content-panel">
                    <div id="no-device-selected" class="empty-state">
                        <div class="empty-state-content">
                            <div class="empty-icon">üì±</div>
                            <h3>Aucun appareil s√©lectionn√©</h3>
                            <p>S√©lectionnez un appareil dans la liste pour voir ses d√©tails</p>
                        </div>
                    </div>

                    <div id="device-detail" class="device-detail-improved" style="display: none;">
                        <!-- En-t√™te de l'appareil -->
                        <div class="device-header-improved">
                            <div class="device-info">
                                <h2 id="device-name">iPhone</h2>
                                <div class="device-meta">
                                    <span class="device-udid" id="device-udid">UDID: </span>
                                    <div id="device-status" class="device-status-indicator available">
                                        <span class="status-dot"></span>
                                        <span class="status-text">Disponible</span>
                                    </div>
                                </div>
                            </div>
                            <div class="device-actions">
                                <button id="start-bot" class="btn btn-primary">
                                    ‚ñ∂ D√©marrer
                                </button>
                                <button id="stop-bot" class="btn btn-danger" style="display: none;">
                                    ‚ñ† Arr√™ter
                                </button>
                            </div>
                        </div>

                        <!-- Cartes d'√âtat -->
                        <div class="status-grid">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title">Bot</h3>
                                </div>
                                <div class="card-body">
                                    <div id="bot-status" class="badge">Inactif</div>
                                    <div class="card-subtitle" id="bot-details">-</div>
                                </div>
                            </div>

                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title">Appium</h3>
                                </div>
                                <div class="card-body">
                                    <div id="appium-status" class="badge">Arr√™t√©</div>
                                    <div class="card-subtitle">Port: <span id="appium-port">-</span></div>
                                </div>
                            </div>

                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title">WebDriver</h3>
                                </div>
                                <div class="card-body">
                                    <div id="wda-status" class="badge">Arr√™t√©</div>
                                    <div class="card-subtitle">Port: <span id="wda-port">-</span></div>
                                </div>
                            </div>

                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title">Performances</h3>
                                </div>
                                <div class="card-body">
                                    <div class="perf-metrics">
                                        <div class="metric">
                                            <span class="metric-value" id="accounts-created">0</span>
                                            <span class="metric-label">Comptes</span>
                                        </div>
                                        <div class="metric">
                                            <span class="metric-value" id="success-rate">-</span>
                                            <span class="metric-label">Succ√®s</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Section Logs Am√©lior√©e -->
                        <div class="logs-section-improved">
                            <div class="logs-header">
                                <div class="logs-filters">
                                    <button class="filter-chip active" data-level="all">Tout</button>
                                    <button class="filter-chip" data-level="info">Info</button>
                                    <button class="filter-chip" data-level="warning">Avertissement</button>
                                    <button class="filter-chip" data-level="error">Erreur</button>
                                </div>
                                <div class="logs-actions">
                                    <div class="logs-search">
                                        <span class="logs-search-icon">üîç</span>
                                        <input type="text" placeholder="Rechercher..." id="logs-search">
                                    </div>
                                    <button class="btn btn-ghost btn-sm" id="clear-logs">Effacer</button>
                                    <button class="btn btn-ghost btn-sm" id="export-logs">Exporter</button>
                                </div>
                            </div>
                            <div id="logs-container" class="logs-content-improved">
                                <!-- Les logs appara√Ætront ici -->
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <!-- Vue Centre de Contr√¥le (Dashboard + Analytics fusionn√©s) -->
        <main id="view-control" class="main-view" style="display: none;">
            <div class="control-center">
                <!-- Statistiques Globales -->
                <div class="stats-overview">
                    <div class="stat-card-large">
                        <h3>Sessions Actives</h3>
                        <div class="stat-value-large" id="active-sessions">0</div>
                    </div>
                    <div class="stat-card-large">
                        <h3>T√¢ches en Queue</h3>
                        <div class="stat-value-large" id="queued-tasks">0</div>
                    </div>
                    <div class="stat-card-large">
                        <h3>Taux de Succ√®s</h3>
                        <div class="stat-value-large" id="global-success-rate">-</div>
                    </div>
                    <div class="stat-card-large">
                        <h3>Temps Moyen</h3>
                        <div class="stat-value-large" id="avg-time">-</div>
                    </div>
                </div>

                <!-- Graphiques -->
                <div class="charts-grid">
                    <div class="card chart-card">
                        <div class="card-header">
                            <h3 class="card-title">Performance par Heure</h3>
                        </div>
                        <div class="card-body">
                            <canvas id="performance-chart"></canvas>
                        </div>
                    </div>
                    <div class="card chart-card">
                        <div class="card-header">
                            <h3 class="card-title">R√©partition des T√¢ches</h3>
                        </div>
                        <div class="card-body">
                            <canvas id="tasks-chart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Actions Rapides -->
                <div class="quick-actions">
                    <h3>Actions Rapides</h3>
                    <div class="action-buttons">
                        <button class="btn btn-primary">D√©marrer Tous</button>
                        <button class="btn btn-danger">Arr√™ter Tous</button>
                        <button class="btn btn-ghost">Nettoyer Queue</button>
                        <button class="btn btn-ghost">Exporter Rapport</button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Vue File d'Attente -->
        <main id="view-queue" class="main-view" style="display: none;">
            <div class="queue-manager-improved">
                <!-- En-t√™te de la Queue -->
                <div class="queue-header-improved">
                    <div class="queue-stats">
                        <div class="badge badge-success">En cours: <span id="queue-running">0</span></div>
                        <div class="badge badge-warning">En attente: <span id="queue-pending">0</span></div>
                        <div class="badge">Termin√©es: <span id="queue-completed">0</span></div>
                    </div>
                    <div class="queue-actions">
                        <button class="btn btn-primary">+ Nouvelle T√¢che</button>
                        <button class="btn btn-ghost">Pause Queue</button>
                    </div>
                </div>

                <!-- Liste des T√¢ches -->
                <div class="queue-list-improved">
                    <div id="queue-items">
                        <!-- Les t√¢ches seront affich√©es ici -->
                    </div>
                </div>
            </div>
        </main>

        <!-- Vue Rapports -->
        <main id="view-reports" class="main-view" style="display: none;">
            <div class="reports-view">
                <h2>Rapports et Analyses</h2>
                <!-- Contenu des rapports -->
            </div>
        </main>

        <!-- Modal Param√®tres Am√©lior√© -->
        <div id="settings-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Param√®tres</h2>
                    <button class="modal-close">√ó</button>
                </div>
                <div class="modal-body">
                    <!-- Contenu des param√®tres -->
                </div>
                <div class="modal-footer">
                    <button class="btn btn-ghost">Annuler</button>
                    <button class="btn btn-primary">Sauvegarder</button>
                </div>
            </div>
        </div>

        <!-- Syst√®me de Notifications -->
        <div id="notification-container" class="notification-container"></div>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay" style="display: none;">
            <div class="spinner"></div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>
</html>