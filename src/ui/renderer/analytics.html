<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics - Bot Manager</title>
    <link rel="stylesheet" href="styles-global.css">
</head>
<body>
    <div class="app-container">
        <!-- Header unifié -->
        <header class="header page-header">
            <div class="header-content">
                <div class="header-brand">
                    <h1 class="app-title">Bot Manager</h1>
                </div>

                <nav class="header-nav">
                    <button class="nav-button" onclick="window.location.href='index.html'">
                        Principal
                    </button>
                    <button class="nav-button" onclick="window.location.href='dashboard.html'">
                        Dashboard
                    </button>
                    <button class="nav-button" data-current-page="true">
                        Analytics
                    </button>
                    <button class="nav-button" onclick="window.location.href='queue-manager.html'">
                        Queue
                    </button>
                </nav>

                <div class="header-actions">
                    <button id="export-data" class="btn btn--primary">
                        Exporter
                    </button>
                    <button id="settings-btn" class="btn btn--secondary">
                        Paramètres
                    </button>
                </div>
            </div>
        </header>

        <!-- Contenu principal -->
        <main class="page-container">
            <div>
                <h2 class="page-title">Analytics</h2>
                <p class="page-subtitle">Analyses détaillées et rapports de performance</p>
            </div>

            <!-- Filtres de période -->
            <div class="filters-bar">
                <div class="filter-group">
                    <label class="filter-label">Période:</label>
                    <select class="select">
                        <option>Dernières 24h</option>
                        <option>7 derniers jours</option>
                        <option>30 derniers jours</option>
                        <option>3 derniers mois</option>
                        <option>Personnalisé</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Application:</label>
                    <select class="select">
                        <option>Toutes</option>
                        <option>Hinge</option>
                        <option>Tinder</option>
                        <option>POF</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Appareil:</label>
                    <select class="select">
                        <option>Tous</option>
                        <option>iPhone X</option>
                        <option>iPhone 11</option>
                        <option>iPhone 12</option>
                    </select>
                </div>
                <button class="btn btn--primary">Appliquer</button>
            </div>

            <!-- KPIs principaux -->
            <div class="grid-4-cols">
                <div class="metric-card">
                    <div class="metric-card__label">Total Comptes</div>
                    <div class="metric-card__value">2,847</div>
                    <div class="metric-card__change metric-card__change--positive">
                        ↑ +23.5% vs mois dernier
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-card__label">Taux de Conversion</div>
                    <div class="metric-card__value">68.4%</div>
                    <div class="metric-card__change metric-card__change--positive">
                        ↑ +5.2% amélioration
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-card__label">Temps Moyen/Compte</div>
                    <div class="metric-card__value">3.2m</div>
                    <div class="metric-card__change metric-card__change--positive">
                        ↓ -18% plus rapide
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-card__label">Score de Performance</div>
                    <div class="metric-card__value">94/100</div>
                    <div class="metric-card__change metric-card__change--positive">
                        ↑ +8 points
                    </div>
                </div>
            </div>

            <!-- Graphiques détaillés -->
            <div class="grid-2-cols">
                <!-- Tendances sur 30 jours -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3 class="chart-title">Tendances Mensuelles</h3>
                        <div class="chart-legend">
                            <div class="legend-item">
                                <span class="legend-dot" style="background: var(--primary)"></span>
                                <span>Comptes créés</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-dot" style="background: var(--success)"></span>
                                <span>Vérifiés</span>
                            </div>
                        </div>
                    </div>
                    <canvas id="trends-chart"></canvas>
                </div>

                <!-- Distribution horaire -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3 class="chart-title">Distribution Horaire</h3>
                    </div>
                    <canvas id="hourly-chart"></canvas>
                </div>
            </div>

            <!-- Performance par Application -->
            <div style="margin-top: var(--space-lg);">
                <h3 style="color: var(--text-primary); margin-bottom: var(--space-md);">
                    Performance par Application
                </h3>
                <div class="grid-3-cols">
                    <div class="status-card">
                        <div class="status-card__header">
                            <h4 class="status-card__title">Hinge</h4>
                        </div>
                        <div class="status-card__body">
                            <div class="stats-grid">
                                <div class="stat">
                                    <span class="stat__value">1,245</span>
                                    <span class="stat__label">Comptes</span>
                                </div>
                                <div class="stat">
                                    <span class="stat__value">72%</span>
                                    <span class="stat__label">Succès</span>
                                </div>
                            </div>
                            <div style="margin-top: var(--space-md);">
                                <div class="progress-bar">
                                    <div class="progress-bar__fill" style="width: 72%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="status-card">
                        <div class="status-card__header">
                            <h4 class="status-card__title">Tinder</h4>
                        </div>
                        <div class="status-card__body">
                            <div class="stats-grid">
                                <div class="stat">
                                    <span class="stat__value">892</span>
                                    <span class="stat__label">Comptes</span>
                                </div>
                                <div class="stat">
                                    <span class="stat__value">65%</span>
                                    <span class="stat__label">Succès</span>
                                </div>
                            </div>
                            <div style="margin-top: var(--space-md);">
                                <div class="progress-bar progress-bar--warning">
                                    <div class="progress-bar__fill" style="width: 65%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="status-card">
                        <div class="status-card__header">
                            <h4 class="status-card__title">POF</h4>
                        </div>
                        <div class="status-card__body">
                            <div class="stats-grid">
                                <div class="stat">
                                    <span class="stat__value">710</span>
                                    <span class="stat__label">Comptes</span>
                                </div>
                                <div class="stat">
                                    <span class="stat__value">69%</span>
                                    <span class="stat__label">Succès</span>
                                </div>
                            </div>
                            <div style="margin-top: var(--space-md);">
                                <div class="progress-bar progress-bar--success">
                                    <div class="progress-bar__fill" style="width: 69%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tableau détaillé -->
            <div style="margin-top: var(--space-lg);">
                <div class="action-bar">
                    <div class="action-bar__left">
                        <h3 style="color: var(--text-primary);">Détails des Sessions</h3>
                    </div>
                    <div class="action-bar__right">
                        <button class="btn btn--small btn--ghost">Filtrer</button>
                        <button class="btn btn--small btn--primary">Exporter CSV</button>
                    </div>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Application</th>
                            <th>Appareil</th>
                            <th>Sessions</th>
                            <th>Comptes</th>
                            <th>Succès</th>
                            <th>Temps Total</th>
                            <th>Performance</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>16/09/2024</td>
                            <td>Hinge</td>
                            <td>iPhone X</td>
                            <td>12</td>
                            <td>48</td>
                            <td>92%</td>
                            <td>2h 15m</td>
                            <td><span class="badge badge--success">EXCELLENT</span></td>
                        </tr>
                        <tr>
                            <td>15/09/2024</td>
                            <td>Tinder</td>
                            <td>iPhone 11</td>
                            <td>8</td>
                            <td>32</td>
                            <td>75%</td>
                            <td>1h 45m</td>
                            <td><span class="badge badge--warning">BON</span></td>
                        </tr>
                        <tr>
                            <td>15/09/2024</td>
                            <td>POF</td>
                            <td>iPhone 12</td>
                            <td>10</td>
                            <td>40</td>
                            <td>85%</td>
                            <td>2h 05m</td>
                            <td><span class="badge badge--success">TRÈS BON</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Insights et Recommandations -->
            <div class="grid-2-cols" style="margin-top: var(--space-lg);">
                <div>
                    <h3 style="color: var(--text-primary); margin-bottom: var(--space-md);">
                        Insights Clés
                    </h3>
                    <div class="activity-list">
                        <div class="activity-item">
                            <div class="activity-icon" style="background: var(--success-light);">
                                ↑
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">Performance optimale entre 14h-18h</div>
                                <div class="activity-description">
                                    Le taux de succès augmente de 23% pendant cette période
                                </div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon" style="background: var(--warning-light);">
                                !
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">Tinder nécessite plus de temps</div>
                                <div class="activity-description">
                                    15% plus lent que les autres applications
                                </div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon" style="background: var(--info-light);">
                                i
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">iPhone X plus performant</div>
                                <div class="activity-description">
                                    Taux de succès supérieur de 8% aux autres appareils
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div>
                    <h3 style="color: var(--text-primary); margin-bottom: var(--space-md);">
                        Recommandations
                    </h3>
                    <div class="activity-list">
                        <div class="activity-item">
                            <div class="activity-icon" style="background: var(--primary-light);">
                                ✓
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">Augmenter les sessions l'après-midi</div>
                                <div class="activity-description">
                                    Potentiel de +200 comptes/semaine
                                </div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon" style="background: var(--primary-light);">
                                ✓
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">Optimiser les paramètres Tinder</div>
                                <div class="activity-description">
                                    Réduire les délais pourrait économiser 30min/jour
                                </div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon" style="background: var(--primary-light);">
                                ✓
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">Utiliser plus l'iPhone X</div>
                                <div class="activity-description">
                                    Meilleure stabilité et performance observées
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Analytics page initialized');

            // Export data
            document.getElementById('export-data')?.addEventListener('click', () => {
                console.log('Exporting analytics data...');
                // Logique d'export
            });
        });
    </script>
</body>
</html>